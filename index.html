<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<meta name="robots" content="noindex">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<title>겐지부 노래소트</title>
<script type="text/javascript">
<!--
//*********************************************************
//
// ?価するメンバ?の名前のリスト
//
// この部分を変更して下さい。名前の削除・追加も可?です。
// 名前を引用符(")で括り、コン?(,)で区切って下さい。
// 但し、リストの最後にはコン?を入れてはいけません。
//
//*********************************************************
var namMember = new Array(

"<img src=> <br>ebidence</br>",
"<img src=> <br>無限シニシズム</br>",
"<img src=> <br>Voice</br>",
"<img src=> <br>Foxy Grape</br>",
"<img src=> <br>LLL</br>",
"<img src=> <br>Paradox Re:Write</br>",
"<img src=> <br>僕らの世界・物語</br>",
"<img src=> <br>放課後ギュッと</br>",
"<img src=> <br>ネバーエンドロール</br>",
"<img src=> <br>フィナーレ</br>",
"<img src=> <br>原因は自分にある。</br>",
"<img src=> <br>Up and Down</br>",
"<img src=> <br>時速3km</br>",
"<img src=> <br>幽かな夜の夢</br>",
"<img src=> <br>GOD 釈迦にHip-Hop</br>",
"<img src=> <br>COUNTDOWN</br>",
"<img src=> <br>半分相逢傘</br>",
"<img src=> <br>マルチバース・アドベンチャー</br>",
"<img src=> <br>THE EMPATHY</br>",
"<img src=> <br>因果応報アンチノミー</br>",
"<img src=> <br>ビネットネット</br>",
"<img src=> <br>希望的観測の定義</br>",
"<img src=> <br>柘榴</br>",
"<img src=> <br>小説ならば</br>",
"<img src=> <br>嘘から始まる自称系</br>",
"<img src=> <br>In the Nude</br>",
"<img src=> <br>余白のための瘡蓋狂想曲</br>",
"<img src=> <br>Mania</br>",
"<img src=> <br>スノウダンス</br>",
"<img src=> <br>Go to the Moon</br>",
"<img src=> <br>シェイクスピアに学ぶ恋愛定理</br>",
"<img src=> <br>The Ceremony</br>",
"<img src=> <br>黄昏よりも早く疾走れ</br>",
"<img src=> <br>カラフるワンダフル</br>",
"<img src=> <br>犬と猫とミルクにシュガー</br>",
"<img src=> <br>STARGAZER</br>",
"<img src=> <br>豪雨</br>",
"<img src=> <br>青、その他</br>",
"<img src=> <br>灼けゆく青</br>",
"<img src=> <br>J*O*K*E*R</br>",
"<img src=> <br>Lion</br>",
"<img src=> <br>夜夏</br>",
"<img src=> <br>結末は次のトラフィックライト</br>",
"<img src=> <br>藍色閃光</br>",
"<img src=> <br>魔法をかけて</br>",
"<img src=> <br>Q</br>",
"<img src=> <br>Museum:0</br>",
"<img src=> <br>貴方に溺れて、僕は潤んで。</br>",
"<img src=> <br>夢に唄えば</br>",
"<img src=> <br>Run away</br>",
"<img src=> <br>チョコループ</br>",
"<img src=> <br>Like a Vampire</br>",
"<img src=> <br>桜Ground</br>",
"<img src=> <br>ケイカクドヲリ</br>",
"<img src=> <br>嗜好に関する世論調査</br>",
"<img src=> <br>Macanas.</br>",
"<img src=> <br>『誰も知らない歌』</br>",
"<img src=> <br>Operation Ego</br>",
"<img src=> <br>パラノイドランデブー</br>",
"<img src=> <br>Joy to the world</br>",
"<img src=> <br>夢之相 - イメノアイ</br>",
"<img src=> <br>545</br>",
"<img src=> <br>蝋燭</br>",
"<img src=> <br>Show Time!!</br>",
"<img src=> <br>方程式は恋模様</br>",
"<img src=> <br>P-P-P-PERO</br>",
"<img src=> <br>夏の二等辺大三角形</br>",
"<img src=> <br>0to1の幻想</br>",
"<img src=> <br>以呂波</br>",
"<img src=> <br>in the Fate</br>",
"<img src=> <br>ラベンダー</br>",
"<img src=> <br>推論的に宇宙人</br>",
"<img src=> <br>多分、僕のソネット</br>",
"<img src=> <br>鳴らして、シンバル</br>",
"<img src=> <br>貴方らしく</br>",
"<img src=> <br>アビスと清らな銀世界</br>",
"<img src=> <br>トレモロ</br>",
"<img src=> <br>ダイヤモンドリリー</br>",
"<img src=> <br>ギミギミラブ</br>",
"<img src=> <br>ジュトゥブ</br>",
"<img src=> <br>NOW</br>",
"<img src=> <br>Burn Burn Bomb</br>",
"<img src=> <br>遊戯的反逆ノススメ</br>",
"<img src=> <br>Mr.Android (feat. izki)</br>",
"<img src=> <br>美しい人</br>",
"<img src=> <br>原因は君にもある。</br>",





);
//*********************************************************

var lstMember = new Array();
var parent = new Array();
var equal = new Array();
var rec = new Array();
var cmp1,cmp2;
var head1,head2;
var nrec;

var numQuestion;
var totalSize;
var finishSize;
var finishFlag;

//変数の初期化+++++++++++++++++++++++++++++++++++++++++++++
function initList(){
var n = 0;
var mid;
var i;

//??トすべき配列
lstMember[n] = new Array();
for (i=0; i<namMember.length; i++) {
lstMember[n][i] = i;
}
parent[n] = -1;
totalSize = 0;
n++;

for (i=0; i<lstMember.length; i++) {
//要素数が２以上なら２分割し、
//分割された配列をlstMemberの最後に加える
if(lstMember[i].length>=2) {
mid = Math.ceil(lstMember[i].length/2);
lstMember[n] = new Array();
lstMember[n] = lstMember[i].slice(0,mid);
totalSize += lstMember[n].length;
parent[n] = i;
n++;
lstMember[n] = new Array();
lstMember[n] = lstMember[i].slice(mid,lstMember[i].length);
totalSize += lstMember[n].length;
parent[n] = i;
n++;
}
}

//保存用配列
for (i=0; i<namMember.length; i++) {
rec[i] = 0;
}
nrec = 0;

//引き分けの結果を保存するリスト
//キ?：リンク始?の値
// 値 ：リンク終?の値
for (i=0; i<=namMember.length; i++) {
equal[i] = -1;
}

cmp1 = lstMember.length-2;
cmp2 = lstMember.length-1;
head1 = 0;
head2 = 0;
numQuestion = 1;
finishSize = 0;
finishFlag = 0;
}

//リストの??ト+++++++++++++++++++++++++++++++++++++++++++
//flag：比較結果
//  -1：左を選択
//   0：引き分け
//   1：右を選択
function sortList(flag){
var i;
var str;

//recに保存
if (flag<0) {
rec[nrec] = lstMember[cmp1][head1];
head1++;
nrec++;
finishSize++;
while (equal[rec[nrec-1]]!=-1) {
rec[nrec] = lstMember[cmp1][head1];
head1++;
nrec++;
finishSize++;
}
}
else if (flag>0) {
rec[nrec] = lstMember[cmp2][head2];
head2++;
nrec++;
finishSize++;
while (equal[rec[nrec-1]]!=-1) {
rec[nrec] = lstMember[cmp2][head2];
head2++;
nrec++;
finishSize++;
}
}
else {
rec[nrec] = lstMember[cmp1][head1];
head1++;
nrec++;
finishSize++;
while (equal[rec[nrec-1]]!=-1) {
rec[nrec] = lstMember[cmp1][head1];
head1++;
nrec++;
finishSize++;
}
equal[rec[nrec-1]] = lstMember[cmp2][head2];
rec[nrec] = lstMember[cmp2][head2];
head2++;
nrec++;
finishSize++;
while (equal[rec[nrec-1]]!=-1) {
rec[nrec] = lstMember[cmp2][head2];
head2++;
nrec++;
finishSize++;
}
}

//片方のリストを走査し終えた後の処理
if (head1<lstMember[cmp1].length && head2==lstMember[cmp2].length) {
//リストcmp2が走査済 - リストcmp1の残りをコピ?
while (head1<lstMember[cmp1].length){
rec[nrec] = lstMember[cmp1][head1];
head1++;
nrec++;
finishSize++;
}
}
else if (head1==lstMember[cmp1].length && head2<lstMember[cmp2].length) {
//リストcmp1が走査済 - リストcmp2の残りをコピ?
while (head2<lstMember[cmp2].length){
rec[nrec] = lstMember[cmp2][head2];
head2++;
nrec++;
finishSize++;
}
}

//両方のリストの最後に到達した場合は
//親リストを更新する
if (head1==lstMember[cmp1].length && head2==lstMember[cmp2].length) {
for (i=0; i<lstMember[cmp1].length+lstMember[cmp2].length; i++) {
lstMember[parent[cmp1]][i] = rec[i];
}
lstMember.pop();
lstMember.pop();
cmp1 = cmp1-2;
cmp2 = cmp2-2;
head1 = 0;
head2 = 0;

//新しい比較を行う前にrecを初期化
if (head1==0 && head2==0) {
for (i=0; i<namMember.length; i++) {
rec[i] = 0;
}
nrec = 0;
}
}

if (cmp1<0) {
str = "Battle No."+(numQuestion-1)+"<br>"+Math.floor(finishSize*100/totalSize)+"% sorted.";
document.getElementById("battleNumber").innerHTML = str;

showResult();
finishFlag = 1;
}
else {
showImage();
}
}

//結果の?示+++++++++++++++++++++++++++++++++++++++++++++++
function showResult() {
var ranking = 1;
var sameRank = 1;
var str = "";
var i;

str += "<table style=\"width:200px; font-size:12px; line-height:120%; margin-left:auto; margin-right:auto; border:1px solid #000; border-collapse:collapse\" align=\"center\">";
str += "<tr><td style=\"color:#ffffff; background-color:#000; text-align:center;\">순위<\/td><td style=\"color:#ffffff; background-color:#000; text-align:center;\">이름<\/td><\/tr>";

for (i=0; i<namMember.length; i++) {
str += "<tr><td style=\"border:1px solid #000; text-align:right; padding-right:5px;\">"+ranking+"<\/td><td style=\"border:1px solid #000; padding-left:5px;\">"+namMember[lstMember[0][i]]+"<\/td><\/tr>";
if (i<namMember.length-1) {
if (equal[lstMember[0][i]]==lstMember[0][i+1]) {
sameRank++;
} else {
ranking += sameRank;
sameRank = 1;
}
}
}
str += "<\/table>";

document.getElementById("resultField").innerHTML = str;
document.getElementById("saveBtn").style.display = "inline-block";

}

//比較する２つ要素の?示+++++++++++++++++++++++++++++++++++
function showImage() {
var str0 = "Battle No."+numQuestion+"<br>"+Math.floor(finishSize*100/totalSize)+"% sorted.";
var str1 = ""+toNameFace(lstMember[cmp1][head1]);
var str2 = ""+toNameFace(lstMember[cmp2][head2]);

document.getElementById("battleNumber").innerHTML = str0;
document.getElementById("leftField").innerHTML = str1;
document.getElementById("rightField").innerHTML = str2;

numQuestion++;
}

//数値を名前（顔文字）に変換+++++++++++++++++++++++++++++++
function toNameFace(n){
var str = namMember[n];

//顔文字を追加する場合は以下のコメントアウトを外す
//namMemberのインデックスと矛盾しないように注意
/*
str += "<br>────<br>";
switch(n) {
//case -1 はサンプルなので削除すること
case -1: str+="（ ´∀｀）";break;
default: str+=""+n;
}
*/
return str;
}
//-->
</script>
<style>

#mainTable{
  width: 100%;
  max-width: 480px;
  margin: 0 auto;

  table-layout: fixed;
  border-collapse: separate;
  border-spacing: 8px;
}

#leftField, #rightField{
  width: 50%;

  height: 42vw;
  max-height: 220px;
  min-height: 160px;

  border: 1px solid #000;
  background: #ffffff;
  cursor: pointer;

  padding: 12px;
  box-sizing: border-box;

  text-align: center;
  vertical-align: middle;

  overflow: hidden;
  word-break: break-word;
  overflow-wrap: break-word;

  transition: background 0.1s ease;
  -webkit-tap-highlight-color: transparent;
}

#leftField:active, #rightField:active{
  background: #f2f2f2;
}

.middleField{
  width: 120px;
  height: 70px;
  border: 1px solid #000;
}


</style>
<meta name="generator" content="Namo WebEditor(Trial)">
<meta http-equiv="content-type" content="text/html; charset=utf-8"></head>

<body text="#000000" bgcolor="#ffffff" link="#0099ff" vlink="#0099ff" alink="#0099ff">
<table id="mainTable" align="center">
<tr>
        <td id="battleNumber" colspan="2" style="padding-bottom: 10px; text-align:center;">
            <p>&nbsp;</p>
        </td>
</tr>
<tr>
  <td id="leftField" onClick="if(finishFlag==0)sortList(-1);">
    &nbsp;
  </td>
  <td id="rightField" onClick="if(finishFlag==0)sortList(1);">
    &nbsp;
  </td>
</tr>

</table><br><br>
<div id="resultField" style="text-align:center;">
    <p><font size="1" face="돋움"><span style="">X:@summernotokay</font></p>
    <p><font size="1" face="돋움"></font></p>
  </div>
  
<br>
<div style="text-align:center; margin-top:15px;">
  <button id="saveBtn"
          onclick="saveResultImage()"
          style="padding:8px 18px; font-size:14px; display:none;">
    이미지로 저장
  </button>
</div>


<script type="text/javascript">
<!--
initList();
showImage();
//-->
</script>

<script>
function saveResultImage(){

  var target = document.querySelector("#resultField table");

  html2canvas(target, {
    backgroundColor: "#ffffff",
    scale: 1
  }).then(function(canvas){

    var link = document.createElement("a");
    link.download = "겐지부_노래소트_결과.png";
    link.href = canvas.toDataURL("image/png");
    link.click();

  });
}

</script>


</body>
</html>


















